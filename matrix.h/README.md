# Matrix Library

## Описание проекта

Matrix Library - это библиотека для работы с матрицами на языке C. Проект предоставляет полный набор функций для создания, манипуляции и вычислений с матрицами, включая базовые арифметические операции, вычисление определителя, обратной матрицы и алгебраических дополнений.

## Основные возможности

### Управление матрицами
- **s21_create_matrix(int rows, int columns, matrix_t *result)**: Создание матрицы заданного размера
- **s21_remove_matrix(matrix_t *A)**: Освобождение памяти матрицы
- **s21_eq_matrix(matrix_t *A, matrix_t *B)**: Сравнение матриц с точностью до 7 знаков

### Базовые арифметические операции
- **s21_sum_matrix(matrix_t *A, matrix_t *B, matrix_t *result)**: Сложение матриц
- **s21_sub_matrix(matrix_t *A, matrix_t *B, matrix_t *result)**: Вычитание матриц
- **s21_mult_number(matrix_t *A, double number, matrix_t *result)**: Умножение матрицы на число
- **s21_mult_matrix(matrix_t *A, matrix_t *B, matrix_t *result)**: Умножение матриц

### Продвинутые операции
- **s21_transpose(matrix_t *A, matrix_t *result)**: Транспонирование матрицы
- **s21_calc_complements(matrix_t *A, matrix_t *result)**: Вычисление матрицы алгебраических дополнений
- **s21_determinant(matrix_t *A, double *result)**: Вычисление определителя матрицы
- **s21_inverse_matrix(matrix_t *A, matrix_t *result)**: Вычисление обратной матрицы

### Вспомогательные функции
- **is_valid(matrix_t *A, matrix_t *B)**: Проверка корректности матриц для операций
- **is_empty(matrix_t *matrix)**: Проверка на пустую матрицу
- **get_minor(matrix_t *A, int x, int y, matrix_t *minor)**: Получение минора матрицы

## Структура данных

```c
typedef struct matrix_struct {
    double **matrix;  // Двумерный массив элементов
    int rows;         // Количество строк
    int columns;      // Количество столбцов
} matrix_t;
```

## Системные требования

- **ОС**: POSIX-совместимые системы (Linux, macOS)
- **Компилятор**: GCC с поддержкой C11
- **Библиотеки**: check (для тестирования), math (для математических операций)

## Установка и сборка

### Сборка библиотеки
```bash
make s21_matrix.a
```

### Запуск тестов
```bash
make test
```

### Генерация отчета о покрытии кода
```bash
make gcov_report
```

### Проверка стиля кода
```bash
make style
```

### Проверка утечек памяти
```bash
make leaks
```

### Статический анализ кода
```bash
make cpp
```

## Структура проекта

```
matrix.h/
├── s21_matrix.h              # Основной заголовочный файл
├── s21_create_matrix.c       # Создание матрицы
├── s21_remove_matrix.c       # Удаление матрицы
├── s21_eq_matrix.c           # Сравнение матриц
├── s21_sum_matrix.c          # Сложение матриц
├── s21_sub_matrix.c          # Вычитание матриц
├── s21_mult_number.c         # Умножение на число
├── s21_mult_matrix.c         # Умножение матриц
├── s21_transpose.c           # Транспонирование
├── s21_calc_complements.c    # Алгебраические дополнения
├── s21_determinant.c         # Определитель матрицы
├── s21_inverse_matrix.c      # Обратная матрица
├── s21_matrix_check.c        # Вспомогательные проверки
├── matrix_test/              # Тесты
│   ├── matrix_test.c         # Основные тесты
│   ├── test.c                # Дополнительные тесты
│   └── test.h                # Заголовочный файл тестов
├── Makefile                  # Файл сборки
└── README.md                 # Документация
```

## Примеры использования

```c
#include "s21_matrix.h"

int main() {
    matrix_t A, B, result;
    double det;
    
    // Создание матриц
    s21_create_matrix(2, 2, &A);
    s21_create_matrix(2, 2, &B);
    
    // Заполнение матриц
    A.matrix[0][0] = 1; A.matrix[0][1] = 2;
    A.matrix[1][0] = 3; A.matrix[1][1] = 4;
    
    B.matrix[0][0] = 5; B.matrix[0][1] = 6;
    B.matrix[1][0] = 7; B.matrix[1][1] = 8;
    
    // Операции с матрицами
    s21_sum_matrix(&A, &B, &result);      // Сложение
    s21_determinant(&A, &det);            // Определитель
    s21_inverse_matrix(&A, &result);      // Обратная матрица
    
    // Освобождение памяти
    s21_remove_matrix(&A);
    s21_remove_matrix(&B);
    s21_remove_matrix(&result);
    
    return 0;
}
```

## Коды возврата

- **OK (0)**: Операция выполнена успешно
- **INCORRECT_MATRIX (1)**: Некорректная матрица
- **CALCULATION_ERROR (2)**: Ошибка вычислений
- **SUCCESS (1)**: Успешное выполнение
- **FAILURE (0)**: Неудачное выполнение

## Особенности реализации

- **Динамическое выделение памяти**: Автоматическое управление памятью для матриц
- **Проверка корректности**: Валидация входных данных перед операциями
- **Высокая точность**: Использование double для элементов матрицы
- **Оптимизированные алгоритмы**: Эффективные алгоритмы для вычисления определителя и обратной матрицы
- **Полное покрытие тестами**: Комплексное тестирование всех функций

## Тестирование

Проект включает обширные тесты для всех функций:
- Тестирование базовых операций
- Проверка граничных случаев
- Тестирование некорректных входных данных
- Проверка точности вычислений
- Тестирование управления памятью

## Лицензия

Этот проект распространяется под лицензией GNU General Public License v3.0 (GPLv3).

Проект разработан в рамках учебной программы Школы21.
